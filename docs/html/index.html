<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Multithreaded Peaceful Queens: Multithreaded Peaceful Queens</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Multithreaded Peaceful Queens
   </div>
   <div id="projectbrief">Backtracking for Solutions to the Peaceful Queens Problem</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Multithreaded Peaceful Queens </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>1. Introduction</h2>
<p >The <em>Peaceful Queens problem</em> is the problem of placing \(n\) queens on an \(n \times n\) chessboard in such a way that no queen threatens any other, recalling that queens can attack along row, column, diagonals, and back-diagonals. The code in this repository is a multi-threaded version of the backtracking code from <a href="https://github.com/Ian-Parberry/peacefulqueens">https://github.com/Ian-Parberry/peacefulqueens</a> using the <a href="https://github.com/Ian-Parberry/threadplusplus"><code>thread++</code> library</a>. For more information about the backtracking algorithm, see <a href="https://ian-parberry.github.io/peacefulqueens">https://ian-parberry.github.io/peacefulqueens</a>.</p>
<p ><a class="anchor" id="sec2"></a></p><h2>2. Normal Form Peaceful Queens Solutions</h2>
<p >Instead of counting all solutions to the Peaceful Queens problem, we will count only solutions that have a special structure, called <em>normal form</em> solutions. An \(n \times n \) Peaceful Queens solution is said to be in <em>normal form</em> if either (remembering that rows are numbered from \(0\) to \(n - 1\) from top to bottom and columns are numbered from \(0\) to \(n - 1\) from left to right),</p>
<ol type="1">
<li>the queen in the last column is below the middle of the board (the red rectangle in <a class="el" href="index.html#fig1">Fig. 1</a> and <a class="el" href="index.html#fig2">Fig. 2</a>), more precisely, the queen in column \(n - 1\) is in row \(\geq \lceil n/2 \rceil\), or</li>
<li>\(n\) is odd, the queen in the last column is in the middle of the board (the red square in <a class="el" href="index.html#fig3">Fig. 3</a>) and the queen in the second-last column is below the middle of the board (the blue rectangle in <a class="el" href="index.html#fig3">Fig. 3</a>), more precisely, the queen in in column \(n - 1\) is in row \(\lfloor n/2 \rfloor\), and the queen in column \(n - 2\) is in row \( \geq \lceil n/2 \rceil\).</li>
</ol>
<p >Note that for every \(n \times n \) Peaceful Queens solution in normal form there is another that is not in normal form obtained by reflecting the normal form solution about the horizontal axis. Therefore, if \(Q(n)\) is the number of solutions to the \(n \times n \) Peaceful Queens problem and \(Q&#39;(n)\) is the number of solutions in normal form, then \(Q(n) = 2Q&#39;(n)\).</p>
<p ><a class="anchor" id="fig1"></a></p><div class="image">
<object type="image/svg+xml" data="135024.svg" width="25%" style="pointer-events: none;"></object>
<div class="caption">
Fig. 1: A solution to the 6x6 Peaceful Queens problem that has a queen in the inside the red rectangle is in normal form.</div></div>
<p ><a class="anchor" id="fig2"></a></p><div class="image">
<object type="image/svg+xml" data="1306425.svg" width="25%" style="pointer-events: none;"></object>
<div class="caption">
Fig. 2: A solution to the 7x7 Peaceful Queens problem that has the queen inside the red rectangle is in normal form.</div></div>
<p ><a class="anchor" id="fig3"></a></p><div class="image">
<object type="image/svg+xml" data="1642053.svg" width="25%" style="pointer-events: none;"></object>
<div class="caption">
Fig. 3: A solution to the 7x7 Peaceful Queens problem that has the queen inside the red square and a queen inside the blue rectangle is in normal form.</div></div>
<h2>3. Compiling the Code</h2>
<h3>3.1 All Platforms</h3>
<p >Before proceeding, download <a href="https://github.com/Ian-Parberry/threadplusplus">https://github.com/Ian-Parberry/threadplusplus</a> and compile it according to the instructions in <a href="https://ian-parberry.github.io/threadplusplus/">https://ian-parberry.github.io/threadplusplus/</a>.</p>
<h3>3.2 Windows and Visual Studio</h3>
<p >A Visual Studio solution file <code>peacefulqueens_mt.sln</code> has been provided in the root folder. It has been tested with Visual Studio 2019 Community under Windows 10.</p>
<h3>3.3 *NIX and g++</h3>
<p >A <code>make</code> file has been placed in the <code>Src</code> directory. Type <code>make</code> to create the executable file. It has been tested with g++ 9.4.0 on the Ubuntu 20.04.4 LTS subsystem under Windows 10.</p>
<h2>4. Some Results</h2>
<p ><a class="el" href="index.html#table1">Table 1</a> shows the number of normal form Peaceful Queens solutions \(Q&#39;(n)\) on an \(n \times n\) chessboard for \(4 \leq n \leq 21\) with CPU and elapsed times using 35 of the available 36 threads on an Intel(R) Core(TM) i9-7980XE CPU @ 2.60GHz. Note that the number of solutions \(Q&#39;(n)\) in the second column of <a class="el" href="index.html#table1">Table 1</a> are exactly half of the corresponding numbers \(Q(n)\) in <a href="https://ian-parberry.github.io/peacefulqueens#table1">this table</a> since, as noted in <a class="el" href="index.html#sec2">Section 2</a>, \(Q(n) = 2Q&#39;(n)\).</p>
<p ><a class="anchor" id="table1"></a></p><center> <table class="doxtable">
<caption>Table 1. </caption>
<tr>
<th>\(n\)</th><th>\(Q&#39;(n)\)</th><th>CPU Time</th><th>Elapsed Time </th></tr>
<tr>
<td>4</td><td>1</td><td>&lt; 1 ms</td><td>10 ms </td></tr>
<tr>
<td>5</td><td>5</td><td>&lt; 1 ms</td><td>8 ms </td></tr>
<tr>
<td>6</td><td>2</td><td>&lt; 1 ms</td><td>8 ms </td></tr>
<tr>
<td>7</td><td>20</td><td>&lt; 1 ms</td><td>10 ms </td></tr>
<tr>
<td>8</td><td>46</td><td>&lt; 1 ms</td><td>8 ms </td></tr>
<tr>
<td>9</td><td>176</td><td>&lt; 1 ms</td><td>9 ms </td></tr>
<tr>
<td>10</td><td>362</td><td>&lt; 1 ms</td><td>8 ms </td></tr>
<tr>
<td>11</td><td>1,340</td><td>&lt; 1 ms</td><td>8 ms </td></tr>
<tr>
<td>12</td><td>7,100</td><td>&lt; 1 ms</td><td>9 ms </td></tr>
<tr>
<td>13</td><td>36,856</td><td>595 ms</td><td>23 ms </td></tr>
<tr>
<td>14</td><td>182,798</td><td>2.64 sec</td><td>113 ms </td></tr>
<tr>
<td>15</td><td>1,139,592</td><td>18.14 sec</td><td>594 ms </td></tr>
<tr>
<td>16</td><td>7,386,256</td><td>1 min, 41 sec</td><td>3.24 sec </td></tr>
<tr>
<td>17</td><td>47,907,552</td><td>11 min, 8 sec</td><td>21.15 sec </td></tr>
<tr>
<td>18</td><td>333,045,312</td><td>1 hr, 18 min</td><td>2 min, 32 sec </td></tr>
<tr>
<td>19</td><td>2,484,028,924</td><td>7 hr, 57 min</td><td>16 min, 25 sec </td></tr>
<tr>
<td>20</td><td>19,514,594,442</td><td>3 days, 10 hr</td><td>2 hr, 35 min </td></tr>
<tr>
<td>21</td><td>157,333,111,356</td><td>18 days, 14 hr</td><td>13 hr, 40 min </td></tr>
</table>
</center> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 2 2022 12:04:22 for Multithreaded Peaceful Queens by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
